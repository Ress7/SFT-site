import React, { useState } from "react";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Key, XCircle, CheckCircle } from "lucide-react";
import { useNavigate } from "react-router-dom";

const VALID_CODES = new Set([
  "V5M13MEM","IMMLEW6V","RMU5MHEF","DZF1R0QR","SNMPCL58","S7EII83D","5J3B8YUT","0RJNM3SQ","0MJYOIF0","U5P3SKF7",
  "OYGOUMAN","111C3AOE","PAQP35H9","R5Z455NU","078SH0NL","CP83O4X7","QYXWPJZM","JLNS2DU1","HH4QN9RX","VWYFIVR6",
  "HEH3UE7Q","29MLLVK7","KH1CASVX","5UW6UAQ7","C80XPHNO","NAC30AC5","2U1J8725","WM1FS0I8","KFV7UCEB","RTDMLYEZ",
  "DMELQ6SI","YDLRES71","0V6QYENY","M0GCXT2O","F1RU3SZ9","BQZMND66","WFW43XPX","41A98F2M","CEYE9G12","I4TXAH6C",
  "GWDMZIGL","SZWBJM1X","Q422EYYB","HU2J6OT2","46YOFVXW","LKCWY709","Q462VRYR","SQTZFJOR","AWVI1IQ1","FTXEI8UC",
  "30C7VHUF","05AVY261","MBKM9LAJ","9AXDN0NL","IOCYSVTZ","B1SNEHWW","KS6THVZ6","SCIYTUS9","S47KILBJ","OV2UWJVW",
  "1SC8RKM4","TQWH8FSI","F6T7DFCX","FEUA4D0U","DI0ZXDLY","OMCTTNCZ","7WBX8WVI","6K4EIWA6","JMZGPWMI","F3PSAXJU",
  "H2YA7SLL","MLF2UJP0","9BGOCTXJ","YYICYK2E","8UF609OV","F6G3ET00","BOOU05YZ","SORGY8K2","WQZZQB94","L4IFKQ8R",
  "MF8MM2U7","J8L2PQWS","76IAPUFV","83C2NFHY","QSVEA2M1","171KRARL","831KH8GC","JALBX0MV","AQXU4Z88","UNQNSBSX",
  "SEKAUC4O","TTSWHO1T","Z9Z6B8PX","B5SWHSSX","D51RX73W","YEVP6BMA","P4WOR0U9","GEQK2V97","RN0HZM2A","XO8IMBS5",
  "1U1I1E9U","ORT5R0J7","P7JVO7UK","HZ8TX62P","T10JJBOX","FLHKJ74W","S76MYOYW","PSJ7OZMH","P55DDG55","SR9O71HO",
  "BTN5OMZF","SAPPA8NK","GG5ZA9OU","M1QU8Z3Q","74XX1U9H","QYPYCZHC","JR99RO94","Z49MYKTC","00GKBHU0","GMYVPYUM",
  "UIQ4JPEB","JSY52VZL","CPFEQ7X6","0K4TC5LH","P0QG9A15","MXED1575","YG4GY89E","I8A5NUTM","4KVN5GC3","OV87ARNA",
  "A69JRERU","HH8F9F61","EOLENVPE","7NOJNXYK","S00BYV3X","S272M0KL","8B5LYNLR","3YIXQ19E","USDNQ5RO","OOJDS7BO",
  "H4ZK2789","8CZN3OEK","23NAKP26","5T1XN54M","YXEKXYVA","9DAHG37T","RNZ0055G","QL3T4IO5","L94P1NPT","DM6LQBJR",
  "CI5M5LXL","A3DR6090","UWECN4S6","J9MU0UPN","7OPZLOB2","ZW4KAYXL","V82EHN1I","LTKEFUYW","33XI5JFP","3O2G2ZWA",
  "FHKY9C2Y","52BAY2H4","BVUBGXOM","SMSVAKXS","POP1IEZL","RUI3NPED","03TQ0JB3","DNVSQ7EH","1WWQ1YT0","E68II1C9",
  "M1B5CEF2","ZDON6UK4","RASUMZFN","PLX75OWU","KUI79E7M","NPJ3IEXQ","QXHHKE27","VJ6AWQJB","0W7DD02I","5RT0UCFS",
  "KL1FXN4K","NSZBWOQ9","RT4907QV","5IGYOZHV","NM2QVO1T","VXIGQTPM","67PWAOQC","3WLCKIGE","DMS846DG","UP83U6X9",
  "H4Z1U461","RDT02OMK","SG3IFZ4Z","M2B3V7Q9","8TRRM40Q","D9KLKHKB","J77BDNGV","46ITWG42","POA1A5DA","AGHSZM15",
  "F1C4WP15","IN1F0A29","P5M05BSK","9AE7Y5AY","7C94L32H","ISM4TFHU","I2VUYSOK","DY1NWUPD","AJBXJTYP","9QFYIBMW",
  "FG4OV89M","83WSQZRK","QPP5SGUL","J2OM61C1","7BFEIMJ6","8ORKKJV1","A17UF352","D7O0HO2S","2AI73JQD","NLGDW6Q6",
  "Q46HF063","7NTMKPYP","QYLHU6EL","BI6VWWBN","P3PLWC72","IQJYN0P5","WQ7988TG","27Z7WUM6","2B56VC9N","KLWCOAJ9",
  "SRK8RQFH","QNXSXDVH","OLXPOIAF","K996F8QB","JVU48D31","2E5WEZUI","JQ8PHF1L","7XSD0BL6","0JXKI3MJ","UHQSDOLP",
  "25R9O4CQ","49GOR72Z","ZILTL9VY","G7PHIKQE","YJCT22UP","XH6V1QEI","TFZUAYHT","QW9N7C12","5QCRZ86A","JIYKYAWK",
  "OZ3CF1PI","2DZJA509","WPZU59D2","295MQ0A9","KXYS8QI8","0AD35TUA","5FZ7S4CT","ASMJZ0HR","KJ3PAS6G","RDR9TPON",
  "PP4S4MXH","1582L6YM","QVNZTMW1","WBRBSOZA","EG3CJBRH","WWIYCQHD","PN14XI7O","NHHGGREJ","8Z3D2X3L","FHQVJLPT",
  "MA82QN0P","XP970OIJ","X27FFDJF","3AH4LJ6E","477DWWI6","04JLYB5F","TTO3U77R","8J7GYNMO","L0VH3C12","RHS7PUKG",
  "YI090LXU","JMWAH2QK","L8BUUFU5","DKEMI8PR","D0QXGBKO","H0M0ZVZK","17F3WTLT","XAQEYM6P","0FXNBJKK","VWBPHYE6",
  "7087QJBN","PF0UM4OX","O7PWT4EK","MMR7VKQ1","KLTRDOPP","Q71C72QC","TQ7HQGJG","BNQ0G5VE","LSTWT4TC","JNYHI7T3",
  "80B22KYL","B31ZNDIQ","YATCF0MR","99X28WEX","JDWLAGRL","ECDSY8W4","NB8HB8M8","RSG0Y4AG","T4OCR5QJ","CF9HGD0K",
  "SQZEY8XH","27X8CP8Q","67OVIUXZ","1NAC2ERS","06CYPU36","0LDXEPMK","UCO6W4I2","UOL3MLUS","SFML6BAS","TTT4JO7S",
  "FL305YJB","UFT1NT5A","QM8K6X5U","8VV56435","2LF0BIIT","SVIK2L7L","1OA98PB6","L71UBB40","J9YF3ZIX","HG92GGPH",
  "G7G72THW","TP8PANRD","RITYYPAU","M4FD41UF","3MOEEQ7D","7SFXTF0K","JAN1NXEX","VQMUPJBG","OGQOYHVK","KNMUSALT",
  "MPZ1P8A2","C3D79D94","ROESXK36","82FWFJNQ","B2HXGFF5","TTUKH690","DVO40POW","EGWHPWE4","ZGGC46PU","ES28WAI9",
  "R7R9CYCG","6L18IYUI","NH2VF9RX","2NZOJD0L","SWH9BF4F","58JP1HLG","BF3UECPH","V3IL1SWQ","CZ1T1SN3","V6FXG14Q",
  "U296QK5A","YYB8ZVME","PKNDTR7A","531AZ2ZL","S9D2797Z","RIZ8ROZY","ZEOW79VC","MVNM8T64","KUB4061U","O115X5CH",
  "GWWWH02Y","5DXJ83JA","HINTMB0S","KZ74NTBT","H5763BUZ","B3IWYY3H","RXQ8IZEU","MOVNU57M","JBXVS6YA","RMDB5XGZ",
  "S6QYY1ZQ","75OD1PH0","9VSWZKCB","CD8IUTJ1","FX7TC4VZ","4V84MNQI","GEZX0ZLP","UOHX7BMM","61N7G4BG","DREIXITB",
  "9PX5BO0W","QCON4VTA","G000XEPF","MYQXKGU6","727TQTTY","TVQLFJXM","ZVBBVYO4","AJHWTBC5","NBUY18GN","TI2A1L6C",
  "X9ETFKSM","1AUXC0TT","FBUZG11I","G7AAIIMY","XX15629V","PDPGJUNE","ECMJWK4G","SZEK2411","QKP2NDZO","YG3SXTR4",
  "0HUTZCNG","X39GVLXU","FY482YY5","SG3SS3BI","8CNX919G","0CR4PYYX","PUMXT21X","RTYF237Q","LG00J921","6MLP29B5",
  "M2PG9TDX","3C8FMD3X","0IJT67PA","KA4CUJML","MUN1I50O","CE6N4JX2","0VDL9KKS","0VNLHLED","51H3AL8C","ER9DYE9U",
  "PJGDHDBO","S3OB71WA","33QVZSZF","39L3HBX7","M635LAW6","8VDDEI2X","D2OCGWAP","GIK6VG3C","IKYZXQT0","Y5U4HOZ5",
  "VDSVSY5B","3BCT0P4F","SYEWLFSJ","DESGE6OH","6P4L4LR9","XN56Y9JF","Z82NLXG5","O3QGCD8M","CZW5EETO","D6LQSQOI",
  "NF33M59T","MLF4XD5Q","FMQYC68O","ZQRZSASF","TLJNB14M","CD1UAFXO","QROY4YCH","PS7WI2JN","ZHOL9QR1","GL9Q1K7N",
  "O8IG6IXU","BY3PMLQT","URJFYCGJ","JZSU1G68","TB3N8UNY","OCNO3Y1R","MI4CLR6G","JQ6PNSPK","0TLUBHUB","SC9BFOZD",
  "0NF9ORJO","6DBRLNPM","O1V0VJ32","UK48IAN8","1CDBO7YU","YMCCD6CC","77W5P1P9","5BSAE2CX","1E5M52FZ","72WR4D86",
  "NJGQGV6U","1IU8IAAL","9DDJ4NOF","QYYR5XX3","8UTE319D","Q397J771","SF5TROT0","8WQZIIFN","T04HE6FO","8R46HMHK",
  "WFXBAV6E","0AF8W61T","58QEXTLI","2LBIKS1K","0IO4ZSCI","J99VZ5JG","V8L2B5KC","JFKLHI0J","J7C66MGT","043JTB0S",
  "QZUTYNB5","H84441FI","HLA4J67K","5WPOUMNE","JMG9TPEG","6VY38FI6","K5EYXOVJ","89S6W401","NU5OMBPO","A7W4J006",
  "8FS2OII5","RIR711VJ","ACWV0ZKY","PUXMGWM4","IT41OPTB","VTJGYMJB","DX195UN5","VVNQQNRA","XJLHB6JN","679P1UH1",
  "USYXVN8E","FXE9CA7A","FYKQHT1J","Y50PG20H","3VEBOIBC","5H2HBBRN","G52ZWJKY","9C5MG2JQ","2DLYLZ2N","ITDCI6EN",
  "9EASE5T0","V8JK9SC0","77ABIVE1","76U0G4MN","O5AVTHA3","23OYGIXB","CLDNXA0T","KUPNRQBA","F2NXMAD3","EOBQHPAI",
  "SJI7VRKP","GSJEK6TY","5Y6ELI4R","3XY14SNZ","QWEBMQ9S","SBUNLVOY","36JRI76B","NXENJIIO","RVR20NH9","Y4IQHJIH",
  "CXO5V3TL","SO4KQJDH","W4CN4EYB","IK7GGEZA","WA8GTG8I","CVWAV2OA","DR15NUYB","NKJDZARG","X7LN86QK","TPJVW4QR",
  "0HI3JMJG","5BKUGBLR","P77WGBSL","SF6XPH26","DY195AA9","JGOE5AWG","O4AG21KC","5UMGMIU0","O09155DD","ELJTPBL6",
  "0F4D7ZSF","4KQX7BHF","UH5L5RS9","47RT1YGT","W0944MHT","IQ5C1DTP","VFA2U3N0","UYNWSIDY","R27KUY6U","USCK9496",
  "I42NO3KD","JRM7ISJG","FD8RTM7K","ET7475FG","ERBCPJJ4","UDDVDXEA","O03MLWX9","ME2ZA1MT","B771MKAQ","0CAADX2P",
  "1634EUTD","1TG2BSBY","NX0ZMV3L","OV4TCJL0","BB0Q07P6","LHZQJV6W","225LUGLR","CAPIJC35","ROLDHHMN","2MFBDY07",
  "GKI4ZSIQ","LZE676VZ","UZPH9AA6","UCSUZ4QS","NYUUZ0DQ","KEKS4CB5","DYS2Z9AG","2DSBXM4G","A9EJGUW9","X2DOEQM0",
  "MW06VXMY","5SIXX3DQ","QA20Q2I5","HA051R3B","UXZ0VM7E","P8X4KUEE","XI6VCV8K","FPZ381O2","PQ6I0M5Z","BGTUECJW",
  "0TP7T3DD","FEKSNDPE","P60FQ1NS","I45UGM17","YWIVCYX5","PIFY9YW8","RZ7MLVCB","HYLK5JHV","UAFES82J","DMGXM97M",
  "XVIHFMAO","ANJNA1Q1","V6ZA62FL","4RNDDOL2","1PGK9RLA","7BBIEA8O","XKDUZ9Q8","5MN8B41Y","2CDS8LVN","VJOZ1RGF",
  "IRZE2XHC","CQ1QOTIK","V8J1XTTF","DDOQHP5I","2GS9WMXM","T01WZK8E","SKGKCHGI","M9EGUUZ4","PEHIFE1M","ND9LC98R",
  "MDYH5RBK","UTHASR10","577G53I7","S6A2VSMX","L4VWC1YT","55U62WSP","XYEBO0RO","V0LEVQOY","CN3J964Q","ZYIKM66Q",
  "UWXURK5B","D4T814W0","E486A1D6","QUK34EZB","7D8QWSFC","OOWH7WI0","6VSE3XUA","1BUUYLV7","WP4XVH49","G19SVE6L",
  "0AXGYJZI","SDVIX3AE","UY5LK95E","17L87AB4","5C685O7L","9W2ITUJX","5IU633PY","0PSF2C09","LESAHVUZ","1TYDZYU4",
  "9VSWDIO7","UR60D9Z8","WSCA2ANN","0DOYTLJR","5KP4H21W","T2KXUDP7","1IHDWOAV","6606RH2R","YNCYH4OT","QI9DLHBE",
  "GXWSVS9Y","SL7ZL10K","4ECJEOAZ","GX2VF7WT","4GD2B4JQ","LPRHCELA","LAB4QMGU","YN23Y12E","4GL4QVJ8","N5R24U3T",
  "MHSQMAIN","AWT71BL7","VE3ZY5LF","3JYRRBRQ","71YFPJKS","317UJH92","NP1YZN06","5NZWKSV2","IT0RK1RU","WHBO5SJ3",
  "C8ECRY7J","QTTQS858","ZNCNDWQH","3I8SB8B8","U2VKKERS","COBBJIGU","B5BDXMVE","G6ZAAR9G","TAOVBNB1","9QV8OTIT",
  "35VX6OTI","8YOA46Q1","LHIYNSAH","66WLFR9O","8UGKE9BY","YNNAYH7G","I3EVBF4D","69M5KX5M","BE6M8LEO","1N9079HU",
  "H7AJIEAB","Y15FIW34","XKTOES30","34RQT7YY","MWFMLVVD","57AJ0088","XIFRV5KD","S94LDPYO","6RF772O1","49QKVOKO",
  "XEFDZHU6","AO5EL7K4","RKCMUY3Q","VJVLM9Q2","V8L9HMSP","PQDD25BM","KIPGH5EK","XYJVKZSK","62VAKNV9","SNST8VL4",
  "FAJDKRWY","PM5VCY1X","DMVBZ96D","6TCX8LRK","MMCX7024","W0G4FYWP","SB1BXGDF","4PSR10HI","7E7QSBMB","67BS6S5D",
  "FNWC5EIC","UCBEETN9","C7LRNLMA","1AM67H2O","ZBK2J0Q2","VMKA2NZV","I59F1UN8","GFT1SSIQ","PR5RYEHA","WCY0QOCR",
  "QSNYKNU1","XAI8WCZB","M4606DRM","7Z1MJ8WK","KKJBDU4W","0K0HWCB3","FX0MZMT2","X6MISIZD","7E0ISBM4","GUPED3I9",
  "PRCL2XR6","AVQVJ7H4","P0HI1YNT","62QAACC1","DFQKXFP0","9T1XGE5L","08C9WITZ","YUYON17K","CI9KK4K8","83IGP50M",
  "0IZYCF7X","C2EWTLKK","SAZB4V84","HJEW7IIZ","7NHIYRX7","TR4V1CGN","ZVA2MR9N","NSNKF2TX","OBQJ20XV","3045U8Q7",
  "KS38JE4E","COY8LU8R","VFQADCTL","Q8G3UTQ9","EIV1UBGH","RAFKS9TS","36OIBP5Z","UNVO35FN","0M1RJGJW","JFAIQUZM",
  "XNSG0JBS","A821I7YG","S68X9W5R","FV7SUQ5K","XD21JLWD"
]);

export default function AccessCode() {
  const navigate = useNavigate();
  const [code, setCode] = useState("");
  const [error, setError] = useState(null);

  const handleSubmit = () => {
    const normalized = code.trim().toUpperCase();
    if (VALID_CODES.has(normalized)) {
      localStorage.setItem("inviteCodeVerified", "true");
      setError(null);
      navigate("/createaccount");
    } else {
      setError("Invalid invite code. Please try again.");
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center p-4">
      <Card className="max-w-md w-full bg-white/80 dark:bg-gray-950/80 backdrop-blur-md border-gray-200 dark:border-gray-800">
        <CardHeader>
          <CardTitle className="text-center text-gray-900 dark:text-white flex items-center justify-center gap-2">
            <Key className="w-5 h-5" /> Enter Access Code
          </CardTitle>
        </CardHeader>
        <CardContent className="space-y-3">
          <Input
            placeholder="Enter your code"
            value={code}
            onChange={(e) => { setCode(e.target.value); setError(null); }}
            className="bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-800 dark:text-white"
          />
          {error && (
            <div className="text-sm text-red-600 flex items-center gap-2"><XCircle className="w-4 h-4" />{error}</div>
          )}
          <Button onClick={handleSubmit} className="w-full bg-black dark:bg-white hover:bg-gray-800 dark:hover:bg-gray-200 text-white dark:text-black">
            <CheckCircle className="w-4 h-4 mr-2" /> Continue
          </Button>
        </CardContent>
      </Card>
    </div>
  );
}
